<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to Wheaton's World!</title>
  <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/jaime62/GulfWaters-BINGO/main/WheatonsWorld_favicon.png">
  <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/jaime62/GulfWaters-BINGO/main/WheatonsWorld_favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Libre+Baskerville&display=swap" rel="stylesheet">

  <style>
    html, body {
      margin: 0;
      padding: 0;
      text-align: center;
      font-family: 'Libre Baskerville', serif;
      background-color: #f9f9f9;
    }

    .top-nav {
      position: absolute;
      top: 15px;
      right: 20px;
    }

    .top-nav a {
      text-decoration: none;
      color: #0074e8;
      font-weight: bold;
      padding: 6px 12px;
      border-radius: 4px;
      transition: background-color 0.3s ease;
    }

    .top-nav a:hover {
      background-color: #0074e8;
      color: white;
    }

    .center-logo {
      display: flex;
      justify-content: center;
      margin-top: 1rem;
    }

    .logo-img {
      width: 300px;
      margin-top: 2rem;
    }

    .slogan-row {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 2rem 0;
      flex-wrap: wrap;
    }

    .slogan {
      position: relative;
      font-size: 1.25rem;
      color: #0070C0;
    }

    .popup {
      display: none;
      position: absolute;
      top: 120%;
      left: 50%;
      transform: translateX(-50%);
      width: 300px;
      background: white;
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      font-size: 1rem;
      z-index: 1;
    }

    .slogan:hover .popup {
      display: block;
    }

    .icon-row {
      display: flex;
      justify-content: center;
      gap: 3rem;
      flex-wrap: wrap;
      margin-top: 3rem;
    }

    .icon-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
    }

    .tooltip-text {
      visibility: hidden;
      opacity: 0;
      width: max-content;
      max-width: 220px;
      background-color: #333;
      color: #fff;
      text-align: center;
      padding: 6px 10px;
      border-radius: 6px;
      position: absolute;
      bottom: 110%;
      left: 50%;
      transform: translateX(-50%);
      transition: opacity 0.3s ease, transform 0.3s ease;
      font-size: 0.85rem;
      z-index: 1;
      pointer-events: none;
    }

    .icon-item:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
      transform: translateX(-50%) translateY(-6px);
    }

    .icon-img {
      width: 120px;
      height: auto;
      transition: transform 0.3s ease;
    }

    .icon-img:hover {
      transform: scale(1.15);
    }

    .icon-link {
      text-decoration: none;
      color: #0074e8;
      font-weight: 500;
      margin-top: 1rem;
      transition: font-weight 0.2s ease;
    }

    .icon-link:hover {
      font-weight: 700;
    }

    @keyframes gelatine {
      0% { transform: scale(1,1); }
      25% { transform: scale(0.9,1.1); }
      50% { transform: scale(1.1,0.9); }
      75% { transform: scale(0.95,1.05); }
      100% { transform: scale(1,1); }
    }

    @keyframes spinToStop {
      0%   { transform: rotate(0deg) scale(1); }
      20%  { transform: rotate(720deg) scale(1.1); }
      60%  { transform: rotate(1080deg) scale(1.05); }
      100% { transform: rotate(1440deg) scale(1); }
    }

    @keyframes tilt {
      0%   { transform: rotate(0deg); }
      20%  { transform: rotate(-10deg); }
      40%  { transform: rotate(10deg); }
      60%  { transform: rotate(-8deg); }
      80%  { transform: rotate(8deg); }
      100% { transform: rotate(0deg); }
    }

    .gelatine { animation: gelatine 0.8s ease; }
    .spinning { animation: spinToStop 4s ease-out forwards; }
    .tilting  { animation: tilt 1s ease-in-out 3; } /* 2.5s total */

    .site-footer {
      text-align: center;
      font-size: 0.9rem;
      color: #666;
      padding: 1rem;
      margin-top: 6rem;
      border-top: 2px solid #ddd;
    }

    @media (max-width: 600px) {
      .icon-row { flex-direction: column; }
      .icon-item { margin-bottom: 2rem; }
      .icon-img { width: 80px; }
      .tooltip-text { font-size: 0.75rem; }
    }
  </style>
</head>
<body>

  <div class="top-nav">
    <a href="https://www.wheatonsworld.com/ww-contactform.html">Contact</a>
  </div>

  <div class="center-logo">
    <img class="logo-img" src="https://raw.githubusercontent.com/jaime62/GulfWaters-BINGO/main/WheatonsWorld_blue_Ws_trans.png" alt="Logo">
  </div>

  <div class="slogan-row">
    <div class="slogan">
      Inspire
      <div class="popup">We chase the “what ifs,” the “why nots,” and occasionally the “wait, can we even do that?”</div>
    </div>
    <div class="slogan">
      Respect
      <div class="popup">We build with heart — honoring users, ideas, and teammates (even the one who still uses dark mode).</div>
    </div>
    <div class="slogan">
      Create
      <div class="popup">We roll up our sleeves and make cool stuff. For fun. For friends. For filling weird little gaps.</div>
    </div>
  </div>

  <div class="rest-text-norm">Here's what we've done so far...</div>

  <div class="icon-row">
    <div class="icon-item">
      <div class="tooltip-text">Calculate Bingo payouts instantly!</div>
      <img class="icon-img" data-type="tilt"
           src="https://raw.githubusercontent.com/jaime62/GulfWaters-BINGO/main/app/BingoPayCalc/BINGO%20Ball.png"
           alt="Bingo Icon"
           onclick="handleConfettiClick('https://www.wheatonsworld.com/app/BingoPayCalc/', 'BingoPayout')" />
      <a href="https://www.wheatonsworld.com/app/BingoPayCalc/" class="icon-link" data-win="BingoPayout">
        Bingo Payout Calculator
      </a>
    </div>

    <div class="icon-item">
      <div class="tooltip-text">Port A gear, guides, and tackle tips!</div>
      <img class="icon-img" data-type="tilt"
           src="https://github.com/jaime62/Wheatons-World/blob/main/app/Tech-Tackle-Box/blue-tackle-box_192x192.png?raw=true"
           alt="Tackle Box"
           onclick="handleConfettiClick('https://hookedonporta.com', 'HookedOnPortA')" />
      <a href="https://hookedonporta.com" class="icon-link" data-win="HookedOnPortA">
        Tech Tackle Box
      </a>
    </div>

    <div class="icon-item">
      <div class="tooltip-text">Convert CSV to clean HTML in seconds!</div>
      <img class="icon-img" data-type="tilt"
           src="https://github.com/jaime62/Wheatons-World/blob/main/app/tools/WW_tools_icon.png?raw=true"
           alt="Coding Tools"
           onclick="handleConfettiClick('https://www.wheatonsworld.com/app/tools/', 'CSV2HTML')" />
      <a href="https://www.wheatonsworld.com/app/tools/" class="icon-link" data-win="CSV2HTML">
        CSV to HTML Converter
      </a>
    </div>
  </div>

  <hr style="width:100%; border: none; height: 1px; background-color: lightgray;">

  <footer class="site-footer">
    <p><i>Wheaton's World&#8482; &nbsp;&nbsp;|&nbsp;&nbsp; All rights reserved.</i></p>
  </footer>

  <script>
    const icons = document.querySelectorAll('.icon-img');
    let bounceInterval;



    function triggerBounce(icon) {
      icon.classList.remove('gelatine');
      void icon.offsetWidth;
      icon.classList.add('gelatine');
    }

    function startRandomBounce() {
      bounceInterval = setInterval(() => {
        const icon = icons[Math.floor(Math.random() * icons.length)];
        triggerBounce(icon);
      }, 5000);
    }

    function stopBounceTemp() {
      clearInterval(bounceInterval);
      setTimeout(() => startRandomBounce(), 3000);
    }

    icons.forEach(icon => {
      icon.addEventListener('mouseenter', () => {
        icon.classList.remove('gelatine', 'spinning', 'tilting');
        void icon.offsetWidth;
        icon.classList.add(icon.dataset.type === 'tilt' ? 'tilting' : 'spinning');
        stopBounceTemp();
      });

      icon.addEventListener('mouseleave', () => {
        icon.classList.remove('spinning', 'tilting');
      });

    });

    // === Popup opener (no confetti) ===
    function handleConfettiClick(url, name = 'WWPopup', w = 900, h = 700, delay = 50) {
      // Center it
      const openerW = window.innerWidth, openerH = window.innerHeight;
      const left = (window.screenX || window.screenLeft) + (openerW - w) / 2;
      const top  = (window.screenY || window.screenTop) + (openerH - h) / 2;
      const features = `width=${w},height=${h},left=${left},top=${top},resizable=yes,scrollbars=yes`;

      // Open now (user gesture), keep a handle
      const win = window.open('about:blank', name, features);

      // If blocked, just navigate this tab as a fallback
      if (!win) {
        setTimeout(() => (window.location.href = url), delay);
        return;
      }

      // Optional placeholder content
      try {
        win.document.write(`<!doctype html><title>Loading…</title>
          <style>html,body{height:100%}body{margin:0;display:grid;place-items:center;font:16px system-ui}</style>
          <div>Launching…</div>`);
      } catch {}

      // Refocus this page so hover state/sounds finish cleanly if needed
      try { win.blur(); window.focus(); } catch {}

      // Then navigate popup & focus it
      setTimeout(() => {
        try { win.location.replace(url); } catch { win.location.href = url; }
        try { win.focus(); } catch {}
      }, delay);
    }

    // ========= Make TEXT links behave like their ICONS (incl. sounds) =========
    document.querySelectorAll('.icon-item').forEach(item => {
      const img  = item.querySelector('.icon-img');
      const link = item.querySelector('.icon-link');
      if (!img || !link) return;

      const startHover = () => {
        img.classList.remove('gelatine', 'spinning', 'tilting');
        void img.offsetWidth;
        img.classList.add(img.dataset.type === 'tilt' ? 'tilting' : 'spinning');
        stopBounceTemp();
      };

      const endHover = () => {
        img.classList.remove('spinning', 'tilting');
      };

      link.addEventListener('mouseenter', startHover);
      link.addEventListener('mouseleave', endHover);
      link.addEventListener('focus', startHover);
      link.addEventListener('blur', endHover);

      // IMPORTANT: use the real href and the window name from data-win
      link.addEventListener('click', (e) => {
        e.preventDefault();
        handleConfettiClick(link.href, link.dataset.win);
      });

      link.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          handleConfettiClick(link.href, link.dataset.win);
        }
      });
    });
    /* ======================================================================== */
  </script>
</body>
</html>
